version: '3.8'

services:
  pwn1:
    build:
      context: ./pwn1
      dockerfile: Dockerfile
    container_name: pwn1
    ports:
      - "9001:9001"
    restart: unless-stopped
    security_opt:
      - seccomp:unconfined
    networks:
      - ctf-network

  pwn2:
    build:
      context: ./pwn2
      dockerfile: Dockerfile
    container_name: pwn2
    ports:
      - "9002:9002"
    restart: unless-stopped
    security_opt:
      - seccomp:unconfined
    networks:
      - ctf-network

  pwn3:
    build:
      context: ./pwn3
      dockerfile: Dockerfile
    container_name: pwn3
    ports:
      - "9003:9003"
    restart: unless-stopped
    privileged: true
    security_opt:
      - seccomp:unconfined
    networks:
      - ctf-network

  pwn4:
    build:
      context: ./pwn4
      dockerfile: Dockerfile
    container_name: pwn4
    ports:
      - "9004:9004"
    restart: unless-stopped
    security_opt:
      - seccomp:unconfined
    networks:
      - ctf-network

networks:
  ctf-network:
    driver: bridge

